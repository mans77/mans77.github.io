(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{187:function(e,t,r){"use strict";r(70),r(103);var a=r(0),n=r.n(a),s=r(2),i=r.n(s),o=function(e){var t=e.messages,r=e.type,a=e.className,s=e.id,i="mbrs-alert ".concat(r?"mbrs-alert-".concat(r):""," ").concat(a);if(!t)return null;if(Array.isArray(t)&&t.length>1)return n.a.createElement("div",{id:s,className:i},n.a.createElement("ul",null,t.map((function(e){return n.a.createElement("li",null,e)}))));var o=Array.isArray(t)?t[0]:t;return n.a.createElement("p",{id:s,className:i},o)};o.propTypes={messages:i.a.oneOfType([i.a.string,i.a.array,i.a.node]),type:i.a.oneOf([null,"info","success","warning","error"]),className:i.a.string,id:i.a.string},o.defaultProps={messages:"",type:null,className:"",id:null},t.a=o},195:function(e,t,r){"use strict";r(70);var a=r(10),n=r.n(a),s=r(0),i=r.n(s),o=r(187);t.a=function(e){var t=e.initialMsg,r=e.initialTypeMsg,a=Object(s.useState)(t),c=n()(a,2),m=c[0],l=c[1],u=Object(s.useState)(r||null),b=n()(u,2),p=b[0],d=b[1];return[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";l(e),d((function(e){return t||e}))},function(e,t){var r=e?"".concat(e,"-").concat(p||"message"):null;return m?i.a.createElement(o.a,{messages:m,id:r,type:p,className:t}):null}]}},234:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));r(70),r(103),r(237),r(244),r(65),r(216);var a=r(36),n=r.n(a),s=r(240),i=r.n(s),o=r(159),c=r.n(o),m=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,l=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/g,u=/^.{0,7}$/g,b=/^[âîôûüïêëéèçA-Za-z0-9]+(?:[ _-][âîôûüïêëéèçA-Za-z0-9]+)*$/g,p=/^.{0,3}$/g,d=/^.{31,}$/,f={required:function(e){return!e},isEmail:function(e){return!e.match(l)&&"Le format de cet email est invalide"},isStrongPassword:function(e){return e.match(u)&&"Votre mot de passe doit avoir au minimum 8 caractères"},minPseudo:function(e){return e.match(p)&&"Votre pseudo doit avoir au minimum 4 caractères"},maxPseudo:function(e){return e.match(d)&&"Votre pseudo doit avoir au maximum 30 caractères"},matchesPseudo:function(e){return!e.match(b)&&"Votre pseudo ne doit contenir que des chiffres ou des lettres (accents compris)"},isUrl:function(e){return!e.match(m)&&"Le format de cette url est invalide"},maxBirthdate:function(e){return c()().isBefore(e)&&"Êtes-vous sûr d’être né dans le futur ?"}},g=function(e,t){return Object.assign.apply(Object,[{}].concat(i()(t.map((function(t){return n()({},t.key,(r=t.rules,a=e[t.key],r.reduce((function(e,t){return!a&&"required"===t||a&&f[t]&&f[t](a)||e}),void 0)));var r,a})))))}},235:function(e,t,r){"use strict";r(152);var a=r(154),n=r.n(a),s=r(10),i=r.n(s),o=r(0),c=r.n(o),m=r(2),l=r.n(m),u=r(193),b=r(159),p=r.n(b),d=r(236),f=r.n(d),g=r(196),v=r(197),h=r(100);function E(e){var t=e.id,r=e.name,a=e.className,s=e.label,m=e.type,l=e.divClassName,b=e.isRequired,d=e.formHelp,E=e.autoComplete,w=e.placeholder,y=e.disabled,N=e.max,O=e.isSuccessField,k=Object(o.useState)(m),C=i()(k,2),S=C[0],j=C[1],x=a,P=function(e){return c.a.createElement("input",n()({id:t,className:x,autoComplete:E,placeholder:w,required:b,disabled:y,max:N,maxLength:"tel"===m?"10":null},e))};return c.a.createElement(u.a,{name:r,type:S,parse:function(e){return"date"===m&&e?p()(e).format("YYYY-MM-DD"):e},render:function(e){var n=e.input,i=e.meta,o=i.error,u=i.submitError,p=!i.dirtySinceLastSubmit&&u||o,E="";return p&&n.value||(x=a),n.value&&(O&&!p&&(x="".concat(a," mbrs-form-field-success")),p&&(x="".concat(a," mbrs-form-field-error"),E=p)),"hidden"===m?P(n):c.a.createElement("div",{className:"mbrs-form-field ".concat(l)},c.a.createElement("label",{htmlFor:t},s,b?c.a.createElement("abbr",{className:"mbrs-required",title:"(ce champ est obligatoire)"}," *"):""),P(n),"password"===m&&c.a.createElement("button",{type:"button",className:"mbrs-passwordfield-btn",onClick:function(){return j("password"===S?"text":"password")}},c.a.createElement(h.a,{name:"password"===S?v.a.id:g.a.id})),d&&c.a.createElement("p",{className:"mbrs-form-help",role:"alert"},d),p&&c.a.createElement("p",{className:"mbrs-form-help mbrs-form-help-error mbrs-mention",role:"alert",name:"".concat(r,"-validation-error")},f()("<span>".concat(E,"</span>"))))}})}E.propTypes={id:l.a.string,name:l.a.string,type:l.a.string,label:l.a.string,divClassName:l.a.string,className:l.a.string,isRequired:l.a.bool,formHelp:l.a.string,autoComplete:l.a.string,placeholder:l.a.string,disabled:l.a.string,max:l.a.string,isSuccessField:l.a.bool},E.defaultProps={id:"",name:"",type:"text",label:"",divClassName:"",className:"",isRequired:!1,formHelp:"",autoComplete:"",placeholder:"",disabled:"",max:"",isSuccessField:!1},t.a=Object(o.memo)(E)},267:function(e,t,r){"use strict";r(152);var a=r(154),n=r.n(a),s=r(0),i=r.n(s),o=r(2),c=r.n(o),m=r(193);function l(e){var t=e.id,r=e.name,a=e.wrapperClassName,s=e.textLabel,o=e.isRequired,c=e.className,l=t;return document.getElementById(t)&&(l+="-2"),i.a.createElement("div",{className:a},i.a.createElement(m.a,{name:r,type:"checkbox",render:function(e){var t=e.input;return i.a.createElement("input",n()({id:l,className:c,required:o},t))}}),i.a.createElement("label",{htmlFor:l},s,o?i.a.createElement("abbr",{className:"mbrs-required",title:"(ce champ est obligatoire)"}," *"):""))}l.propTypes={id:c.a.string,name:c.a.string,wrapperClassName:c.a.string,className:c.a.string,textLabel:c.a.string,isRequired:c.a.bool},l.defaultProps={id:"",name:"",wrapperClassName:"",className:"",textLabel:"",isRequired:!1},t.a=Object(s.memo)(l)},270:function(e,t,r){"use strict";r(70),r(103),r(152),r(72),r(33),r(157);var a=r(154),n=r.n(a),s=r(0),i=r.n(s),o=r(2),c=r.n(o),m=r(193),l=function(e){var t=e.name,r=e.legend,a=e.idPrefix,s=e.radioElements,o=e.divClassName,c=e.ulClassName,l=e.className,u=e.legendClassName;return i.a.createElement("fieldset",{className:o},i.a.createElement("legend",{className:u},r),i.a.createElement("ul",{className:c},Object.keys(s).map((function(e){return i.a.createElement(m.a,{name:t,value:e,type:"radio",key:e.toString(),render:function(t){var r=t.input;return i.a.createElement("li",{className:l},i.a.createElement("input",n()({id:"".concat(a,"-").concat(e)},r)),i.a.createElement("label",{htmlFor:"".concat(a,"-").concat(e)},s[e]))}})}))))};l.propTypes={name:c.a.string,radioElements:c.a.objectOf(c.a.string),divClassName:c.a.string,legendClassName:c.a.string,ulClassName:c.a.string,legend:c.a.string,className:c.a.string,idPrefix:c.a.string},l.defaultProps={name:"",radioElements:[],divClassName:"",legendClassName:"",ulClassName:"",legend:"",className:"",idPrefix:""},t.a=Object(s.memo)(l)},323:function(e,t,r){"use strict";r.r(t);r(155),r(65),r(216),r(109);var a=r(154),n=r.n(a),s=r(10),i=r.n(s),o=r(0),c=r.n(o),m=r(2),l=r.n(m),u=r(296),b=(r(258),r(33),r(269),r(1)),p=r.n(b),d=r(36),f=r.n(d),g=(r(21),r(3)),v=r.n(g),h=r(193),E=r(246),w=r(153),y=r(5),N=r(101),O=r.n(N),k=r(102),C=r.n(k),S=new O.a({id:"btn_google_light",use:"btn_google_light-usage",viewBox:"0 0 18 18",content:'<symbol fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="btn_google_light">\n  <path d="M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z" fill="#4285F4" />\n  <path d="M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z" fill="#34A853" />\n  <path d="M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z" fill="#FBBC05" />\n  <path d="M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z" fill="#EA4335" />\n  <path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z" />\n</symbol>'}),j=(C.a.add(S),S),x=r(100),P=r(39),L=r(49),_=r(50);function M(e){var t=e.setError,r=e.finish,a=e.stayConnected,n=e.className,s=Object(o.useState)(!1),m=i()(s,2),l=m[0],u=m[1],b=Object(o.useState)(0),d=i()(b,2),f=d[0],g=d[1],h=Object(o.useContext)(L.a).updateAuth,E=Object(o.useContext)(_.a).infoModal;Object(o.useEffect)((function(){Object(P.c)("https://apis.google.com/js/platform.js",document.head,"google-login",!0,(function(){window.gapi.load("auth2",(function(){g(window.gapi.auth2.init({client_id:"339476251601-jmks1o9bjc8t4bpfo50m4shdkmdulqkr.apps.googleusercontent.com"}))}))}))}),[]);var N=function(){var e=v()(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.getAuthResponse()){e.next=12;break}return e.prev=1,e.next=4,y.a.loginGoogle(n.getAuthResponse().id_token,E.origin,a);case 4:r(),h(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(!0),u(!1);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(w.a,{type:"button",className:"mbrs-btn-googleplus ".concat(n),onClick:function(){u(!0),f&&f.signIn({}).then(N).catch((function(e){u(!1),console.error(e)}))},isLoading:l},c.a.createElement("span",{className:"mbrs-btn-googleplus-picto"},c.a.createElement(x.a,{width:"16",height:"16",name:j.id})))}M.propTypes={setError:l.a.func,finish:l.a.func,stayConnected:l.a.bool,className:l.a.string},M.defaultProps={setError:function(){},finish:function(){},stayConnected:!0,className:""};var q=Object(o.memo)(M),T=r(289);function F(e){var t=e.setError,r=e.finish,a=e.className,n=e.stayConnected,s=Object(o.useState)(!1),m=i()(s,2),l=m[0],u=m[1],b=Object(o.useContext)(L.a).updateAuth,d=Object(o.useContext)(_.a).infoModal;Object(o.useEffect)((function(){window.fbAsyncInit=function(){window.FB.init({appId:"132725426770373",xfbml:!0,cookie:!0,version:"v2.11"})},Object(P.c)("https://connect.facebook.net/en_US/sdk.js",document.head,"facebook-jssdk")}),[]);var f=function(){var e=v()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),window.FB.login(function(){var e=v()(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.authResponse){e.next=12;break}return e.prev=1,e.next=4,y.a.loginFacebook(a.authResponse.accessToken,d.origin,n);case 4:r(),b(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(!0),u(!1);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),{scope:"email,public_profile"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(w.a,{id:"facebookSignIn",type:"button",className:"mbrs-btn-facebook ".concat(a),onClick:f,isLoading:l},c.a.createElement(x.a,{className:"mbrs-btn-facebook-picto mbrs-btn-picto-left",name:T.a.id}))}F.propTypes={className:l.a.string,setError:l.a.func,finish:l.a.func,stayConnected:l.a.bool},F.defaultProps={className:"",setError:function(){},finish:function(){},stayConnected:!0};var R=Object(o.memo)(F);function I(e){var t=e.setError,r=e.finish,a=e.className,n=e.stayConnected,s=Object(o.useContext)(L.a).updateAuth,i=Object(o.useContext)(_.a).infoModal;return Object(o.useEffect)((function(){return Object(P.c)("https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",document.head,"apple-auth",!0,(function(){window.AppleID.auth.init({clientId:"fr.20minutes.website.prod",scope:"name email",redirectURI:Object(P.b)()?"https://membre.20minutes.fr":"https://www.20minutes.fr",usePopup:!0})})),document.addEventListener("AppleIDSignInOnSuccess",function(){var e=v()(p.a.mark((function e(a){var o,c,m,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=(null==a||null===(o=a.detail)||void 0===o?void 0:o.authorization)||{},m=c.id_token,l=void 0===m?null:m){e.next=4;break}throw new Error("No apple token");case 4:return e.next=6,y.a.loginApple(l,i.origin,n);case 6:r(),s(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),t("Une erreur est survenue, merci de réessayer plus tard.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("AppleIDSignInOnFailure",(function(e){console.error(e)})),function(){document.removeEventListener("AppleIDSignInOnSuccess",(function(){})),document.removeEventListener("AppleIDSignInOnFailure",(function(){}))}}),[]),c.a.createElement("div",{id:"appleid-signin",className:a,"data-mode":"logo-only","data-color":"white","data-border":"true","data-border-radius":"50"})}I.propTypes={className:l.a.string,finish:l.a.func,setError:l.a.func,stayConnected:l.a.bool},I.defaultProps={className:"",finish:function(){},setError:function(){},stayConnected:!0};var A=Object(o.memo)(I),V=r(235),D=r(234),z=r(19),U=(r(70),r(175),r(237),r(72),r(240)),B=r.n(U),Z=r(205),Y=r(207);var H=function(){return c.a.createElement("div",{className:"mbrs-passmediaBlock"},c.a.createElement("img",{className:"mbrs-passmediaBlock-logo",src:Y.a,alt:"PassMedia Logo"}),c.a.createElement("div",{className:"mbrs-mb1 mbrs-fs14"},"PassMedia est un identifiant unique qui vous permet de reprendre le contrôle sur vos données et bénéficier d’un accès unique et instantané à de nombreux médias français."))},G=r(16),Q=function(e){var t=e.className,r=e.isSignup,a=Object(o.useState)(!1),n=i()(a,2),s=n[0],m=n[1],l=Object(o.useContext)(_.a).infoModal,u=Object(o.useCallback)(function(){var e=v()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mbrsPassMediaGenericError"!==t.data){e.next=4;break}m(!0),e.next=8;break;case 4:if(!r){e.next=8;break}return e.next=7,y.a.updateUserFrontOrigin("vingtminutes_web_".concat(sessionStorage.getItem("origin"),"_").concat(G.a.PASSMEDIA));case 7:sessionStorage.removeItem("origin");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),b=Object(o.useCallback)((function(){m(!1),r&&sessionStorage.setItem("origin",l.origin);var e="".concat("https://fidm.eu1.gigya.com/oidc/op/v1.0/3_euWOTPwff3wKPffQb4Y3iQQZn5WgD_ftzc1Hyt29VdkiKhGxAbmTitNYt74L5nEa","/authorize"),t={client_id:"DdkNEP_U-XejwLMjpe1prCcQ",response_type:"code",redirect_uri:"".concat("https://membre.20minutes.fr").concat(z.b.authRedirect),scope:"openid email profile Alldata".concat(r?" inscription":""),nonce:Date.now()},a=Object.keys(t).reduce((function(e,r){return[].concat(B()(e),["".concat(r,"=").concat(encodeURIComponent(t[r]))])}),[]).join("&");window.open("".concat(e,"?").concat(a),"".concat(r?"Inscription":"Connexion"," à PassMedia"),"height=640,width=960,toolbar=no,menubar=no,scrollbars=no,location=no,status=no"),window.addEventListener("message",u)}),[r]);return Object(o.useEffect)((function(){return function(){window.removeEventListener("message",u)}})),c.a.createElement("div",null,r&&c.a.createElement(H,null),c.a.createElement(w.a,{id:"passmedia".concat(r?"Signup":"Signin"),type:"button",className:"mbrs-btn mbrs-btnSkin-passmedia ".concat(t),onClick:b},c.a.createElement(x.a,{className:"mbrs-btn-picto mbrs-btn-picto-left",name:Z.a.id}),r?"S’inscrire à PassMedia":"Se connecter avec PassMedia"),s&&c.a.createElement("p",{className:"mbrs-align-center mbrs-form-help mbrs-form-help-error"},"Une erreur est survenue, veuillez réessayer"))};Q.propTypes={className:l.a.string,isSignup:l.a.bool},Q.defaultProps={className:"",isSignup:!1};var $=Q,J=r(267);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e){var t=e.finish,r=e.handler,a=Object(o.useState)(!1),n=i()(a,2),s=n[0],m=n[1],l=Object(o.useContext)(L.a).updateAuth,u=Object(o.useContext)(_.a),b=u.infoModal,d=u.setInfo;Object(o.useEffect)((function(){Object(P.f)("libelle","communaute::login"),Object(P.f)("connexion",y.a.isLogged()?"1":"0")}),[]);var f=function(){var e=v()(p.a.mark((function e(r,a,n){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.loginEmail(r);case 3:if(void 0===(s=e.sent).fieldsErrors){e.next=7;break}return n(K({},s.fieldsErrors)),e.abrupt("return");case 7:d("isEnabled","enable"===s.signinUserFront.userFront.book_review_subscription),t(),l(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),m("Une erreur est survenue, merci de réessayer plus tard.");case 16:n();case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,a){return e.apply(this,arguments)}}(),g=Object(o.useState)(!1),N=i()(g,2),O=N[0],k=N[1],C=function(){k(!O)};return c.a.createElement(c.a.Fragment,null,b.msg&&c.a.createElement("p",{id:"mbrs-login-info",className:"mbrs-alert mbrs-alert-info mbrs-pa1 mbrs-mb2"},b.msg),c.a.createElement(h.b,{initialValues:{email:"",password:"",stay_connected:!0},validate:function(e){return Object(D.a)(e,[{key:"email",rules:["required"]},{key:"password",rules:["required"]}])},onSubmit:f,render:function(e){var a=e.handleSubmit,n=e.submitting,i=e.values,o=e.hasValidationErrors,l=e.hasSubmitErrors,u=e.dirtySinceLastSubmit;return c.a.createElement("form",{id:"mbrs-loginform",onSubmit:a,className:"mbrs-form"},c.a.createElement(V.a,{id:"mbrs-loginform-email",name:"email",label:"Email",type:"email",autoComplete:"email",className:"mbrs-full-width",divClassName:"mbrs-pb1",isRequired:!0}),c.a.createElement(V.a,{id:"mbrs-loginform-pass",name:"password",label:"Mot de passe",type:"password",autoComplete:"current-password",className:"mbrs-full-width",divClassName:"mbrs-passwordfield mbrs-mb1",isRequired:!0}),c.a.createElement(J.a,{id:"mbrs-loginform-stayConnected",name:"stay_connected",wrapperClassName:"mbrs-mb1",textLabel:"Rester connecté(e)"}),c.a.createElement(w.a,{id:"mbrs-loginform-connect",name:"submitButton",title:"Continuer",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered",disabled:o||l&&!u,isLoading:n}),c.a.createElement("a",{type:"simpleQuery",href:Object(z.a)("forgotPassword"),className:"mbrs-btnextra mbrs-btn-centered",onClick:function(e){return function(e,t){e.preventDefault(),r("forgottenPassword",{email:t})}(e,i.email)}},"Regénérer un mot de passe"),s&&c.a.createElement("p",{id:"mbrs-loginform-error",className:"mbrs-alert mbrs-alert-error mbrs-pa1 mbrs-mt1"},s),c.a.createElement("div",{className:"mbrs-bts mbrs-pt2 mbrs-mt2 mbrs-mb1 mbrs-d-flex mbrs-fd-col mbrs-ai-cntr"},c.a.createElement(H,null),c.a.createElement($,{className:"mbrs-mb1"}),c.a.createElement(w.a,{id:"mbrs-socialGroup-toggle",type:"button",className:"mbrs-btn mbrs-btn-line mbrs-mb1 mbrs-btn-loginToggleButton",onClick:C},"SE CONNECTER AUTREMENT",c.a.createElement(x.a,{className:"mbrs-btn-picto mbrs-btn-picto-right",name:E.a.id})),c.a.createElement("div",{className:"mbrs-mt1 ".concat(!O&&"mbrs-hidden")},c.a.createElement("div",{className:"mbrs-d-flex mbrs-ai-cntr"},c.a.createElement(R,{className:"mbrs-btnIcon mbrs-btn-logSocial",setError:m,finish:t,stayConnected:i.stay_connected}),c.a.createElement(q,{className:"mbrs-ml1 mbrs-btnIcon mbrs-btn-logSocial",setError:m,finish:t,stayConnected:i.stay_connected}),c.a.createElement(A,{className:"mbrs-ml1",setError:m,finish:t,stayConnected:i.stay_connected})))),c.a.createElement("div",{className:"mbrs-mt2"},c.a.createElement("h2",{className:"mbrs-align-center mbrs-mb1"},"Si vous n’avez pas de compte"),c.a.createElement("button",{id:"mbrs-loginform-signup",type:"button",onClick:function(){return r("signup")},className:"mbrs-btn mbrs-btn-centered"},"Créer un compte")))}}))}X.propTypes={handler:l.a.func,finish:l.a.func},X.defaultProps={handler:function(){},finish:function(){}};var ee=X;function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e){var t=e.nextStep,r=Object(o.useState)(""),a=i()(r,2),n=a[0],s=a[1],m=Object(o.useContext)(L.a).updateAuth,l=Object(o.useContext)(_.a),u=l.infoModal,b=l.setInfo,d=function(){var e=v()(p.a.mark((function e(r,a,n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.signupAndLogin(re(re({},r),{},{origin:u.origin}));case 3:if(void 0===(i=e.sent).fieldsErrors){e.next=7;break}return n(re({},i.fieldsErrors)),e.abrupt("return");case 7:m(),b("isOnClose",!0),t(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s("Une erreur est survenue, merci de réessayer plus tard.");case 15:n();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,u.msg&&c.a.createElement("p",{id:"mbrs-signup-info",className:"mbrs-alert mbrs-alert-info mbrs-pa1 mbrs-mb2"},u.msg),c.a.createElement("div",{className:"mbrs-align-center"},c.a.createElement($,{isSignup:!0}),c.a.createElement("div",{className:"mbrs-divider mbrs-mb1 mbrs-mt1 mbrs-uppercase"},"Ou"),c.a.createElement("h2",{className:"mbrs-mb1"},"Créer un compte 20 Minutes")),c.a.createElement(h.b,{initialValues:{email:"",username:"",password:"","password-confirmation":"",accept_cgu:!1,stay_connected:!0},onSubmit:d,validate:function(e){var t=Object(D.a)(e,[{key:"email",rules:["required","isEmail"]},{key:"username",rules:["required","minPseudo","maxPseudo","matchesPseudo"]},{key:"password",rules:["required","isStrongPassword"]},{key:"password-confirmation",rules:["required"]},{key:"accept_cgu",rules:["required"]}]);return e["password-confirmation"]&&e["password-confirmation"]!==e.password&&(t["password-confirmation"]="Les mots de passe sont différents"),t},render:function(e){var t=e.handleSubmit,r=e.submitting,a=e.hasSubmitErrors,s=e.hasValidationErrors,i=e.dirtySinceLastSubmit;return c.a.createElement("form",{id:"mbrs-signupformstep1",onSubmit:t,className:"mbrs-form"},c.a.createElement(V.a,{id:"mbrs-signupformstep1-email",name:"email",label:"Email",className:"mbrs-full-width",type:"email",autoComplete:"email",divClassName:"mbrs-pb1",isSuccessField:!0,isRequired:!0}),c.a.createElement(V.a,{id:"mbrs-signupformstep1-username",name:"username",label:"Pseudo",autoComplete:"username",className:"mbrs-full-width",divClassName:"mbrs-pb1",isSuccessField:!0,isRequired:!0}),c.a.createElement(V.a,{id:"mbrs-signupformstep1-pass",name:"password",label:"Mot de passe",className:"mbrs-full-width",type:"password",autoComplete:"new-password",divClassName:"mbrs-passwordfield mbrs-pb1",formHelp:"* au moins 8 caractères",isSuccessField:!0,isRequired:!0}),c.a.createElement(V.a,{id:"mbrs-signupformstep1-passcheck",name:"password-confirmation",label:"Confirmez votre mot de passe",className:"mbrs-full-width",type:"password",autoComplete:"new-password",divClassName:"mbrs-passwordfield mbrs-pb1",isSuccessField:!0,isRequired:!0}),c.a.createElement("p",{key:"1",className:"mbrs-mention mbrs-mention-medium mbrs-mb1"},"Veuillez prendre connaissance des ",c.a.createElement("a",{target:"blank",href:"http://www.20minutes.fr/cgu"},"Conditions Générales d’utilisation")," des services interactifs de 20 Minutes et les accepter ci-dessous."),c.a.createElement(J.a,{id:"mbrs-signupformstep1-cgu",name:"accept_cgu",wrapperClassName:"mbrs-mb1",textLabel:"J’accepte les Conditions Générales d’utilisation",isRequired:!0}),c.a.createElement(J.a,{id:"mbrs-signupformstep1-stayConnected",name:"stay_connected",wrapperClassName:"mbrs-mb1",textLabel:"Rester connecté(e)"}),n&&c.a.createElement("p",{id:"mbrs-signupformstep1-error",className:"mbrs-alert mbrs-alert-error"},n),c.a.createElement(w.a,{id:"mbrs-signupformstep1-submit",title:"continuer",name:"continue",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-submit mbrs-mt1",disabled:s||a&&!i,isLoading:r}))}}))}ae.propTypes={nextStep:l.a.func},ae.defaultProps={nextStep:function(){}};var ne=ae,se=r(159),ie=r.n(se),oe=r(270),ce=r(195);function me(e){var t=e.nextStep,r=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),a=i()(r,2),n=a[0],s=a[1],o={female:"Femme",male:"Homme"},m=function(){var e=v()(p.a.mark((function e(r,a,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.updateUserFront(r);case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n("Une erreur est survenue, merci de réessayer plus tard.","error");case 9:s();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"mbrs-alert mbrs-alert-info mbrs-pa1"},"Votre inscription a été prise en compte. Un email vous a été envoyé. Merci de confirmer votre inscription en cliquant sur le lien contenu dans ce mail."),c.a.createElement(h.b,{initialValues:{gender:null,birthdate:"",zipcode:"",city:"",website:"",about_me:""},onSubmit:m,validate:function(e){return Object(D.a)(e,[{key:"website",rules:["isUrl"]},{key:"birthdate",rules:["maxBirthdate"]}])},render:function(e){var r=e.handleSubmit,a=e.submitting,n=e.valid;return c.a.createElement("form",{id:"mbrs-signupformstep2",onSubmit:r,className:"mbrs-form"},c.a.createElement("h2",{className:"mbrs-form-title mbrs-pt2 mbrs-pb2"},"Complétez votre profil"),c.a.createElement(oe.a,{name:"gender",legend:"Quel est votre genre ?",idPrefix:"mbrs-signupformstep2",radioElements:o,divClassName:"mbrs-form-field mbrs-choice mbrs-pb1",legendClassName:"mbrs-mask",ulClassName:"mbrs-choice-list mbrs-g mbrs-g-withgutters",className:"mbrs-g-col-6 mbrs-g-col-xs-12"}),c.a.createElement("div",{className:"mbrs-g mbrs-g-withgutters"},c.a.createElement(V.a,{id:"mbrs-signupformstep2-birthdate",name:"birthdate",label:"Date de naissance",type:"date",className:"mbrs-full-width",divClassName:"mbrs-pb1 mbrs-g-col-6 mbrs-g-col-xs-12",max:ie()().format("YYYY-MM-DD")}),c.a.createElement(V.a,{id:"mbrs-signupformstep2-zipcode",name:"zipcode",label:"Code postal",autoComplete:"postal-code",className:"mbrs-full-width",divClassName:"mbrs-pb1 mbrs-g-col-6 mbrs-g-col-xs-12"})),c.a.createElement(V.a,{id:"mbrs-signupformstep2-city",name:"city",label:"Ville",autoComplete:"address-level2",className:"mbrs-full-width",divClassName:"mbrs-pb1"}),c.a.createElement(V.a,{id:"mbrs-signupformstep2-website",name:"website",label:"Mon site personnel",className:"mbrs-full-width",divClassName:"mbrs-pb1"}),c.a.createElement(w.c,{id:"mbrs-signupformstep2-aboutme",name:"about_me",title:"À propos de moi",className:"mbrs-full-width",divClassName:"mbrs-pb1",rows:"3"}),s("mbrs-signupformstep2","mbrs-pa1 mbrs-mt1"),c.a.createElement(w.a,{id:"mbrs-signupformstep2-submit",title:"continuer",name:"continue",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-submit mbrs-mt2",disabled:!n,isLoading:a}),c.a.createElement(w.a,{id:"mbrs-signupformstep2-ignore",title:"Ignorer cette étape",name:"ignore",type:"button",className:"mbrs-btn-centered mbrs-btnextra",onClick:t}))}}))}me.propTypes={nextStep:l.a.func},me.defaultProps={nextStep:function(){}};var le=me,ue=function(e){var t=e.finish;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"mbrs-alert mbrs-alert-success mbrs-pa1 mbrs-mb2"},"Merci de nous rejoindre !",c.a.createElement("br",null),"Vous avez reçu un email d’activation. Tant que votre compte n’est pas activé, vos commentaires ne seront pas visibles par les autres membres et vos paramètres ne seront pas enregistrés."),c.a.createElement("button",{type:"submit",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-submit",onClick:t},"Terminer"))};ue.propTypes={finish:l.a.func},ue.defaultProps={finish:function(){}};var be=ue;function pe(e){var t=e.nextStep,r=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),a=i()(r,2),n=a[0],s=a[1],o=function(){var e=v()(p.a.mark((function e(r,a,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.updateUserFront(r);case 3:return e.next=5,y.a.askBookReviewSubscription();case 5:t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Une erreur est survenue, merci de réessayer plus tard.","error");case 11:s();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,a){return e.apply(this,arguments)}}();return c.a.createElement(h.b,{initialValues:{contributor_signup_motivations:""},onSubmit:o,validate:function(e){return Object(D.a)(e,[{key:"contributor_signup_motivations",rules:["required"]}])},render:function(e){var t=e.handleSubmit,r=e.submitting,a=e.valid,n=e.values;return c.a.createElement("form",{onSubmit:t,id:"mbrs-contributor-motivations-form",className:"mbrs-form"},c.a.createElement(w.c,{id:"mbrs-contributor-motivations",name:"contributor_signup_motivations",title:"Pourquoi voulez-vous rejoindre la communauté ?",divClassName:"mbrs-pb1",className:"mbrs-full-width",rows:"5",isRequired:!0,maxLength:1e3,formHelp:"".concat(n.contributor_signup_motivations.length," / 1000")}),s("mbrs-contributor-motivations-form-error","mbrs-pa1 mbrs-mt1 mbrs-mb1"),c.a.createElement(w.a,{id:"mbrs-contributor-motivations-save",title:"Continuer",type:"submit",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-submit",disabled:!a,isLoading:r}))}})}pe.propTypes={nextStep:l.a.func},pe.defaultProps={nextStep:function(){}};var de=pe;function fe(e){var t=e.initialStep,r=e.finish,a=e.is2MinBooksSignup,n=Object(o.useState)(t),s=i()(n,2),m=s[0],l=s[1],u=Object(o.useState)(2===t&&a),b=i()(u,2),p=b[0],d=b[1],f=function(){m+1===2&&a&&!p?d(!0):p&&a&&2===t?d(!1):(p&&d(!1),l(m+1))};if(p)return c.a.createElement(de,{nextStep:f});var g=null;switch(m){case 1:g=c.a.createElement(ne,{nextStep:f});break;case 2:g=c.a.createElement(le,{nextStep:f});break;case 3:g=c.a.createElement(be,{finish:r})}return g}fe.propTypes={initialStep:l.a.oneOf([1,2,3]),finish:l.a.func,is2MinBooksSignup:l.a.bool},fe.defaultProps={initialStep:1,finish:function(){},is2MinBooksSignup:!1};var ge=fe;function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=e.handler,r=e.email,a=Object(o.useState)(!1),n=i()(a,2),s=n[0],m=n[1],l=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),u=i()(l,2),b=u[0],d=u[1],f=function(){var e=v()(p.a.mark((function e(t,r,a){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,e.prev=1,e.next=4,y.a.forgotPassword(n);case 4:if(void 0===(s=e.sent).fieldsErrors){e.next=8;break}return a(he({},s.fieldsErrors)),e.abrupt("return");case 8:b("Un email vous a été envoyé","success"),m(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),b("Une erreur est survenue, merci de réessayer plus tard.","error");case 16:a();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"mbrs-mb1"},"Regénérer un mot de passe"),c.a.createElement("p",{className:"mbrs-alert mbrs-alert-info mbrs-mb2"},"Indiquez-nous votre adresse, nous vous enverrons un email pour regénérer un mot de passe."),c.a.createElement(h.b,{initialValues:{email:r},onSubmit:f,validate:function(e){return Object(D.a)(e,[{key:"email",rules:["required","isEmail"]}])},render:function(e){var r=e.handleSubmit,a=e.submitting,n=e.hasSubmitErrors,i=e.hasValidationErrors,o=e.dirtySinceLastSubmit;return c.a.createElement("form",{id:"mbrs-forgotpassform",onSubmit:r},c.a.createElement(V.a,{id:"mbrs-forgotpassform-email",name:"email",label:"Email",type:"email",className:"mbrs-full-width",divClassName:"mbrs-pb1",isSuccessField:!0,isRequired:!0}),d("mbrs-forgotpassform",""),s?c.a.createElement("button",{type:"button",onClick:function(){return t("login")},className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-mt2"},"Retour"):c.a.createElement(w.a,{id:"mbrs-forgotpassform-sendEmail",title:"Envoyer",name:"submitButton",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-mt2",disabled:i||n&&!o,isLoading:a}))}}))}Ee.propTypes={handler:l.a.func,email:l.a.string},Ee.defaultProps={handler:function(){},email:""};var we=Ee;function ye(e){var t=e.handler,r=e.match,a=Object(o.useState)(!1),n=i()(a,2),s=n[0],m=n[1],l=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),u=i()(l,2),b=u[0],d=u[1],f=function(){var e=v()(p.a.mark((function e(t,a,n){var s,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.password,e.prev=1,i=r.params.reset_password_token,e.next=5,y.a.resetPassword(s,i);case 5:if(void 0===(o=e.sent).fieldsErrors){e.next=9;break}return b(o.fieldsErrors.token,"error"),e.abrupt("return");case 9:if(!y.a.isLogged()){e.next=12;break}return window.location.assign(Object(z.a)("profile")),e.abrupt("return");case 12:b("Votre nouveau mot de passe est bien enregistré. Un email de confirmation vous a été envoyé. Essayez de vous connecter à nouveau.","success"),m(!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0),b("Une erreur est survenue, merci de réessayer plus tard.","error");case 20:n();case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,r,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"mbrs-mb1"},"Réinitialiser mon mot de passe."),c.a.createElement("p",{className:"mbrs-alert mbrs-alert-info mbrs-mb2"},"Entrez votre nouveau mot de passe."),c.a.createElement(h.b,{initialValues:{password:"","password-confirmation":""},onSubmit:f,validate:function(e){var t=Object(D.a)(e,[{key:"password",rules:["required","isStrongPassword"]},{key:"password-confirmation",rules:["required"]}]);return e["password-confirmation"]&&e["password-confirmation"]!==e.password&&(t["password-confirmation"]="Les mots de passe sont différents"),t},render:function(e){var r=e.handleSubmit,a=e.submitting,n=e.valid;return c.a.createElement("form",{id:"mbrs-resetpassform",onSubmit:r,className:"mbrs-form"},c.a.createElement(V.a,{id:"mbrs-resetpassform-password",name:"password",label:"Nouveau mot de passe",className:"mbrs-full-width",type:"password",autoComplete:"new-password",divClassName:"mbrs-form-field mbrs-passwordfield mbrs-pb1",formHelp:"* au moins 8 caratères",isSuccessField:!0,isRequired:!0}),c.a.createElement(V.a,{id:"mbrs-resetpassform-confirmation",name:"password-confirmation",label:"Confirmez votre mot de passe",className:"mbrs-full-width",type:"password",autoComplete:"new-password",divClassName:"mbrs-form-field mbrs-passwordfield mbrs-pb1",isSuccessField:!0,isRequired:!0}),d("mbrs-resetpassform",""),s?c.a.createElement("button",{type:"button",onClick:function(){return t("login")},className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-mt2"},"Retour"):c.a.createElement(w.a,{id:"mbrs-resetpassform-sendEmail",name:"submitButton",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-mt2",title:"Envoyer",disabled:!n,isLoading:a}))}}))}ye.propTypes={handler:l.a.func,match:l.a.object},ye.defaultProps={handler:function(){},match:{}};var Ne=ye,Oe=r(14),ke=r(194),Ce=["nl_serieux","nl_solutions","nl_fakeoff","nl_maison"];function Se(e){var t=e.match,r=Object(o.useState)(!0),a=i()(r,2),n=a[0],s=a[1],m=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),l=i()(m,2),u=l[0],b=l[1],d=Ce.includes(t.params.signup_confirmation_token),f=d?"Votre inscription a bien été prise en compte":"Votre compte a bien été activé ! Vous êtes désormais officiellement membre de la communauté 20 Minutes ! Vous pouvez donc commenter les articles de manière illimitée et bénéficier de toutes les fonctionnalités de 20 Minutes.",g=function(){var e=v()(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=4;break}return s(!1),u(f,"success"),e.abrupt("return");case 4:return e.prev=4,e.next=7,y.a.signupConfirmation(t.params.signup_confirmation_token);case 7:if(void 0===(r=e.sent).fieldsErrors){e.next=12;break}return s(!1),u(r.fieldsErrors["confirmation-token"],"error"),e.abrupt("return");case 12:u(f,"success"),s(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),s(!1),u("Une erreur est survenue, merci de réessayer plus tard.","error");case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){g()}),[]),y.a.isLoggedConfirmed()?c.a.createElement(Oe.a,{to:{pathname:z.b.profile,state:{message:f}}}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"mbrs-mb1 mbrs-mt2"},"Confirmation de votre inscription"),!n&&b("mbrs-signupconfirmation",""),n&&c.a.createElement(ke.a,{className:"mbrs-loading mbrs-loading-small mbrs-mt1"}))}Se.propTypes={match:l.a.object},Se.defaultProps={match:{}};var je=Se;function xe(e){var t=e.params,r=Object(o.useState)(!1),a=i()(r,2),n=a[0],s=a[1],m=Object(o.useState)(!1),l=i()(m,2),u=l[0],b=l[1],d=Object(ce.a)({initialMsg:"",initialTypeMsg:""}),f=i()(d,2),g=f[0],h=f[1],E=function(){var e=v()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,y.a.unsubscribeNewsletter(t.member_id,t.slug_newsletter);case 4:b(!0),g("Votre désinscription a bien été prise en compte","success"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),b(!0),g("Une erreur est survenue, merci de réessayer plus tard.","error");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,u?h("mbrs-unsubscribeNewsletter","mbrs-mb2"):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"mbrs-mb2"},"Êtes-vous sûr de vouloir vous désabonner de CETTE NEWSLETTER UNIQUEMENT ?"),c.a.createElement("div",{className:"mbrs-form-footer mbrs-mt2"},c.a.createElement(w.a,{id:"mbrs-unsubscribeNewsletter-yes",className:"mbrs-btn mbrs-btn-line mbrs-btn-centered mbrs-mr2 mbrs-ml2",title:"Oui",onClick:E,isLoading:n}),c.a.createElement(w.a,{id:"mbrs-unsubscribeNewsletter-no",className:"mbrs-btn mbrs-btnSkin-community mbrs-btn-centered mbrs-ml2 mbrs-mr2",title:"Non",onClick:function(){g("Votre désinscription n’a pas été prise en compte","success"),b(!0)}}))))}xe.propTypes={params:l.a.object},xe.defaultProps={params:{}};var Pe=xe;function Le(e){var t=e.finish,r=e.auth,a=e.is2MinBooksSignup,s=e.match,m=e.initialView,l=e.initialViewProps,b=e.className,p="mbrs-loginsignup mbrs-box mbrs-box-borderless ".concat(b),d=Object(o.useState)(m),f=i()(d,2),g=f[0],v=f[1],h=Object(o.useState)(l),E=i()(h,2),w=E[0],y=E[1],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(e),y(t)};return["login","signup"].includes(g)?c.a.createElement(u.d,{className:"mbrs-tabpanel ".concat(p),defaultTab:g,onChange:v},c.a.createElement(u.b,{className:"mbrs-tabpanel-list mbrs-color-community"},c.a.createElement(u.a,{className:"mbrs-tabpanel-list-tab",tabFor:"login"},"Connexion"),c.a.createElement(u.a,{className:"mbrs-tabpanel-list-tab",tabFor:"signup"},"Inscription")),c.a.createElement(u.c,{className:"mbrs-tabpanel-body mbrs-pa2",tabId:"login"},c.a.createElement(ee,{handler:N,finish:t,auth:r})),c.a.createElement(u.c,{className:"mbrs-tabpanel-body mbrs-pa2",tabId:"signup"},c.a.createElement(ge,{finish:t,auth:r,is2MinBooksSignup:a}),c.a.createElement("p",{className:"mbrs-mention mbrs-mention-small mbrs-mt2"},"Les informations recueillies font l’objet d’un traitement informatique destiné à la gestion de votre compte, vous permettant de bénéficier de services personnalisés : newsletter, alertes, réaction aux articles, pendant la durée de votre abonnement. Les données personnelles vous concernant sont destinées à la société 20 Minutes, responsable du traitement. Conformément au RGPD, vous avez le droit d’obtenir l’accès, la rectification et l’effacement de vos données personnelles et le droit de vous opposer à tout moment au traitement de vos données. Sans réponse de notre part sous 30 jours, vous avez également le droit d’introduire une réclamation auprès de la CNIL. Plus d’informations : ",c.a.createElement("a",{href:"https://www.20minutes.fr/politique-protection-donnees-personnelles"},"Politique de protection des Données Personnelles")))):"forgottenPassword"===g?c.a.createElement("div",{className:"".concat(p," mbrs-pa2")},c.a.createElement(we,n()({},w,{handler:N}))):"resetPassword"===g?c.a.createElement("div",{className:"".concat(p," mbrs-pa2")},c.a.createElement(Ne,n()({},w,{match:s,handler:N}))):"signupConfirmation"===g?c.a.createElement("div",{className:"".concat(p," mbrs-pa2")},c.a.createElement(je,n()({},w,{match:s}))):"unsubscribeNewsletter"===g?c.a.createElement("div",{className:"".concat(p," mbrs-pa2")},c.a.createElement(Pe,s)):void 0}Le.propTypes={initialView:l.a.string,initialViewProps:l.a.object,finish:l.a.func,auth:l.a.object,match:l.a.object,is2MinBooksSignup:l.a.bool,className:l.a.string},Le.defaultProps={initialView:"login",finish:function(){window.location.replace(z.b.home)},auth:{},match:{},is2MinBooksSignup:!1,className:""};t.default=Le}}]);